{"ast":null,"code":"var _jsxFileName = \"/home/pedromonici/USP/Quinto_Semestre/WEB/Projeto/Good-Glasses/good-glasses-2/src/Components/glasses_description.js\",\n    _s = $RefreshSig$();\n\nimport \"../index.css\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport GlassesImg from \"../oculos.jpeg\";\nimport { useEffect, useState } from \"react\";\nimport mockAPI from \"../API_middlewares/mock\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GlassesDescription(props) {\n  _s();\n\n  const [glassesInfo, setGlassesInfo] = useState({});\n  const glassesId = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    (async () => {\n      try {\n        const glasses = await mockAPI.getProduct(glassesId.id);\n        setGlassesInfo(JSON.parse(glasses));\n      } catch (exception) {\n        alert(exception);\n      }\n    })();\n  }, []);\n  console.log(glassesId);\n\n  function addToCart(event) {\n    let jsonCart = sessionStorage.getItem(\"cart\");\n\n    if (typeof jsonCart !== \"string\") {\n      jsonCart = \"{}\";\n    }\n\n    const cart = { ...JSON.parse(jsonCart)\n    };\n    cart[glassesId.id] = {\n      \"glassesPreviewProps\": {\n        name: glassesInfo.name,\n        price: glassesInfo.price,\n        img: glassesInfo.img\n      },\n      \"qtt\": 1\n    };\n    sessionStorage.setItem(\"cart\", JSON.stringify(cart));\n    navigate(\"/\");\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" flex-box flex-box-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: glassesInfo.img,\n      className: \"img-oculos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-oculos\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" \", glassesInfo.name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\" \", glassesInfo.marca, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: glassesInfo.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagamento\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: `Vendidos:   ${glassesInfo.soldQtt}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: `Em estoque: ${glassesInfo.availableQtt}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: `Preço: R$${glassesInfo.price.toFixed(2)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pink-background\",\n        onClick: addToCart,\n        children: \" Adicionar ao carrinho \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 3\n  }, this);\n}\n\n_s(GlassesDescription, \"YjdEJB9pCmnrl7swnwv/4n+0pyA=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = GlassesDescription;\n;\nexport default GlassesDescription;\n\nvar _c;\n\n$RefreshReg$(_c, \"GlassesDescription\");","map":{"version":3,"names":["Link","useParams","useNavigate","GlassesImg","useEffect","useState","mockAPI","GlassesDescription","props","glassesInfo","setGlassesInfo","glassesId","navigate","glasses","getProduct","id","JSON","parse","exception","alert","console","log","addToCart","event","jsonCart","sessionStorage","getItem","cart","name","price","img","setItem","stringify","marca","description","soldQtt","availableQtt","toFixed"],"sources":["/home/pedromonici/USP/Quinto_Semestre/WEB/Projeto/Good-Glasses/good-glasses-2/src/Components/glasses_description.js"],"sourcesContent":["import \"../index.css\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport GlassesImg from \"../oculos.jpeg\";\nimport { useEffect, useState } from \"react\";\nimport mockAPI from  \"../API_middlewares/mock\";\n\nfunction GlassesDescription(props) {\n\tconst [glassesInfo, setGlassesInfo] = useState({});\n\n\tconst glassesId = useParams();\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst glasses = await mockAPI.getProduct(glassesId.id); \n\t\t\t\tsetGlassesInfo(JSON.parse(glasses));\n\t\t\t} catch (exception) {\n\t\t\t\talert(exception);\n\t\t\t}\n\t\t})();\n\t}, [])\n\n\tconsole.log(glassesId);\n\n\tfunction addToCart(event) {\n\t\tlet jsonCart = sessionStorage.getItem(\"cart\");\n\t\tif (typeof jsonCart !== \"string\") {\n\t\t\tjsonCart = \"{}\";\n\t\t}\n\t\tconst cart = {...JSON.parse(jsonCart)};\n\t\tcart[glassesId.id] = {\n\t\t\t\"glassesPreviewProps\": {\n\t\t\t\tname: glassesInfo.name,\n\t\t\t\tprice: glassesInfo.price,\n\t\t\t\timg: glassesInfo.img,\n\t\t\t}, \n\t\t\t\"qtt\": 1\n\t\t}\n\t\tsessionStorage.setItem(\"cart\", JSON.stringify(cart));\n\t\tnavigate(\"/\");\n\t};\n\n\treturn (\n\t\t<div className=\" flex-box flex-box-wrap\">\n\t\t\t<img src={glassesInfo.img} className=\"img-oculos\"/>\n\t\t  \t\t<div className=\"info-oculos\">\n\t\t\t\t\t<h1> {glassesInfo.name} </h1>\n\t\t\t\t\t<h3> {glassesInfo.marca} </h3>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{glassesInfo.description}\n\t\t\t\t\t</p>\n\t\t  \t\t</div>\n\t\t\t<div className=\"pagamento\">\n\t\t\t\t<h2>{`Vendidos:   ${glassesInfo.soldQtt}`}</h2>\n\t\t\t\t<h2>{`Em estoque: ${glassesInfo.availableQtt}`}</h2>\n\t\t\t\t<h1>{`Preço: R$${glassesInfo.price.toFixed(2)}`}</h1>\n\t\t\t\t<button className=\"pink-background\" onClick={addToCart}> Adicionar ao carrinho </button>\n\t\t  \t</div>\n\t\t</div>\n\t);\n};\n\nexport default GlassesDescription;"],"mappings":"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"},"metadata":{},"sourceType":"module"}