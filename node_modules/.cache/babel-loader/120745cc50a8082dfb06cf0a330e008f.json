{"ast":null,"code":"class MockAPI {\n  constructor() {}\n\n  async registerUser(user) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let users = localStorage.getItem(\"users\");\n\n        if (typeof users !== \"string\") {\n          users = \"{}\";\n        }\n\n        users = JSON.parse(users);\n\n        if (user.cpf in users) {\n          reject(\"CPF já em uso!\");\n        } else {\n          users[user.cpf] = user;\n          localStorage.setItem(\"users\", JSON.stringify(users));\n          resolve(\"\");\n        }\n      }, 300);\n    });\n  }\n\n  async authUser(cpf, passwd) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let users = localStorage.getItem(\"users\");\n\n        if (typeof users !== \"string\") {\n          users = \"{}\";\n        }\n\n        users = JSON.parse(users);\n\n        if (cpf in users && passwd === users[cpf].password) {\n          resolve(\"\");\n        } else {\n          reject(\"\");\n        }\n      }, 300);\n    });\n  }\n\n  async getUserInfo(cpf) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let users = localStorage.getItem(\"users\");\n\n        if (typeof users !== \"string\") {\n          users = \"{}\";\n        }\n\n        users = JSON.parse(users);\n\n        if (cpf in users) {\n          resolve(JSON.stringify(users[cpf]));\n        } else {\n          reject(\"Usuário não encontrado!\");\n        }\n      }, 300);\n    });\n  }\n\n  async updateUserInfo(cpf, info) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let users = localStorage.getItem(\"users\");\n\n        if (typeof users !== \"string\") {\n          users = \"{}\";\n        }\n\n        users = JSON.parse(users);\n\n        if (cpf in users) {\n          users[cpf] = { ...users[cpf],\n            ...info\n          };\n          localStorage.setItem(\"users\", JSON.stringify(users));\n          resolve(\"\");\n        } else {\n          reject(\"Usuário não encontrado!\");\n        }\n      }, 300);\n    });\n  }\n\n  async getProduct(name) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let products = localStorage.getItem(\"products\");\n\n        if (typeof products !== \"string\") {\n          products = \"{}\";\n        }\n\n        products = JSON.parse(products);\n\n        if (name in products) {\n          resolve(products[name]);\n        } else {\n          reject(\"Produto não encontrado!\");\n        }\n      }, 300);\n    });\n  }\n\n  async updateProduct(name, info) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let products = localStorage.getItem(\"products\");\n\n        if (typeof products !== \"string\") {\n          products = \"{}\";\n        }\n\n        products = JSON.parse(products);\n\n        if (name in products) {\n          products[name] = { ...products[name],\n            ...info\n          };\n          localStorage.setItem(\"products\", JSON.stringify(products));\n          resolve(\"\");\n        } else {\n          reject(\"Produto não encontrado!\");\n        }\n      }, 300);\n    });\n  }\n\n  async getProducts() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let products = localStorage.getItem(\"products\");\n\n        if (typeof products !== \"string\") {\n          products = \"{}\";\n        }\n\n        resolve(products);\n      }, 300);\n    });\n  }\n\n  async removeProduct(name) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let products = localStorage.getItem(\"products\");\n\n        if (typeof products !== \"string\") {\n          products = \"{}\";\n        }\n\n        products = JSON.parse(products);\n\n        if (name in products) {\n          delete products[name];\n          localStorage.setItem(\"products\", JSON.stringify(products));\n          resolve(\"\");\n        } else {\n          reject(\"O produto não existe!\");\n        }\n      }, 300);\n    });\n  }\n\n  async addProduct(product) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let products = localStorage.getItem(\"products\");\n\n        if (typeof products !== \"string\") {\n          products = \"{}\";\n        }\n\n        products = JSON.parse(products);\n\n        if (product.name in products) {\n          reject(\"O produto já existe!\");\n        } else {\n          products[product.name] = product;\n          localStorage.setItem(\"products\", JSON.stringify(products));\n          resolve(\"\");\n        }\n      }, 300);\n    });\n  }\n\n}\n\nconst mockAPI = new MockAPI();\nexport default mockAPI;","map":{"version":3,"names":["MockAPI","constructor","registerUser","user","Promise","resolve","reject","setTimeout","users","localStorage","getItem","JSON","parse","cpf","setItem","stringify","authUser","passwd","password","getUserInfo","updateUserInfo","info","getProduct","name","products","updateProduct","getProducts","removeProduct","addProduct","product","mockAPI"],"sources":["/home/pedromonici/USP/Quinto_Semestre/WEB/Projeto/Good-Glasses/good-glasses-2/src/API_middlewares/mock.js"],"sourcesContent":["class MockAPI {\n\tconstructor() {};\n\n\tasync registerUser(user) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet users = localStorage.getItem(\"users\");\n\t\t\t\tif (typeof users !== \"string\") {\n\t\t\t\t\tusers = \"{}\";\n\t\t\t\t}\n\t\t\t\tusers = JSON.parse(users);\n\t\t\t\tif (user.cpf in users) {\n\t\t\t\t\treject(\"CPF já em uso!\");\n\t\t\t\t} else {\n\t\t\t\t\tusers[user.cpf] = user;\n\t\t\t\t\tlocalStorage.setItem(\"users\", JSON.stringify(users));\n\t\t\t\t\tresolve(\"\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t};\n\n\tasync authUser(cpf, passwd) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet users = localStorage.getItem(\"users\");\n\t\t\t\tif (typeof users !== \"string\") {\n\t\t\t\t\tusers = \"{}\";\n\t\t\t\t}\n\t\t\t\tusers = JSON.parse(users);\n\t\t\t\tif (cpf in users && passwd === users[cpf].password) {\n\t\t\t\t\tresolve(\"\");\n\t\t\t\t} else {\n\t\t\t\t\treject(\"\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t};\n\n\tasync getUserInfo(cpf) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet users = localStorage.getItem(\"users\");\n\t\t\t\tif (typeof users !== \"string\") {\n\t\t\t\t\tusers = \"{}\";\n\t\t\t\t}\n\t\t\t\tusers = JSON.parse(users);\n\t\t\t\tif (cpf in users) {\n\t\t\t\t\tresolve(JSON.stringify(users[cpf]));\n\t\t\t\t} else {\n\t\t\t\t\treject(\"Usuário não encontrado!\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t};\n\n\tasync updateUserInfo(cpf, info) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet users = localStorage.getItem(\"users\");\n\t\t\t\tif (typeof users !== \"string\") {\n\t\t\t\t\tusers = \"{}\";\n\t\t\t\t}\n\t\t\t\tusers = JSON.parse(users);\n\t\t\t\tif (cpf in users) {\n\t\t\t\t\tusers[cpf] = {...users[cpf], ...info};\n\t\t\t\t\tlocalStorage.setItem(\"users\", JSON.stringify(users));\n\t\t\t\t\tresolve(\"\");\n\t\t\t\t} else {\n\t\t\t\t\treject(\"Usuário não encontrado!\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t};\n\n\tasync getProduct(name) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet products = localStorage.getItem(\"products\");\n\t\t\t\tif (typeof products !== \"string\") {\n\t\t\t\t\tproducts = \"{}\";\n\t\t\t\t}\n\t\t\t\tproducts = JSON.parse(products);\n\t\t\t\tif (name in products) {\n\t\t\t\t\tresolve(products[name]);\n\t\t\t\t} else {\n\t\t\t\t\treject(\"Produto não encontrado!\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t};\n\n\tasync updateProduct(name, info) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet products = localStorage.getItem(\"products\");\n\t\t\t\tif (typeof products !== \"string\") {\n\t\t\t\t\tproducts = \"{}\";\n\t\t\t\t}\n\t\t\t\tproducts = JSON.parse(products);\n\t\t\t\tif (name in products) {\n\t\t\t\t\tproducts[name] = {...products[name], ...info};\n\t\t\t\t\tlocalStorage.setItem(\"products\", JSON.stringify(products));\n\t\t\t\t\tresolve(\"\");\n\t\t\t\t} else {\n\t\t\t\t\treject(\"Produto não encontrado!\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t}\n\n\tasync getProducts() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet products = localStorage.getItem(\"products\");\n\t\t\t\tif (typeof products !== \"string\") {\n\t\t\t\t\tproducts = \"{}\";\n\t\t\t\t}\n\t\t\t\tresolve(products);\n\t\t\t}, 300);\n\t\t});\n\t};\n\n\tasync removeProduct(name) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet products = localStorage.getItem(\"products\");\n\t\t\t\tif (typeof products !== \"string\") {\n\t\t\t\t\tproducts = \"{}\";\n\t\t\t\t}\n\t\t\t\tproducts = JSON.parse(products);\n\t\t\t\tif (name in products) {\n\t\t\t\t\tdelete products[name];\n\t\t\t\t\tlocalStorage.setItem(\"products\", JSON.stringify(products));\n\t\t\t\t\tresolve(\"\");\n\t\t\t\t} else {\n\t\t\t\t\treject(\"O produto não existe!\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t};\n\n\tasync addProduct(product) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet products = localStorage.getItem(\"products\");\n\t\t\t\tif (typeof products !== \"string\") {\n\t\t\t\t\tproducts = \"{}\";\n\t\t\t\t}\n\t\t\t\tproducts = JSON.parse(products);\n\t\t\t\tif (product.name in products) {\n\t\t\t\t\treject(\"O produto já existe!\");\n\t\t\t\t} else {\n\t\t\t\t\tproducts[product.name] = product;\n\t\t\t\t\tlocalStorage.setItem(\"products\", JSON.stringify(products));\n\t\t\t\t\tresolve(\"\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t};\n}\nconst mockAPI = new MockAPI();\n\nexport default mockAPI;"],"mappings":"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"},"metadata":{},"sourceType":"module"}